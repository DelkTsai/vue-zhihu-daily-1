webpackJsonp([2],{"/7kz":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mtWM"),r=s.n(a),o={data:function(){return{story:{},storyExtra:{},shareModalIsShow:!1,isFirstEnter:!1}},components:{DetailHeader:function(){return s.e(7).then(s.bind(null,"Cq8d"))},ShareModal:function(){return s.e(6).then(s.bind(null,"rNvc"))}},created:function(){this.isFirstEnter=!0},beforeRouteEnter:function(t,e,s){"homePage"===e.name?t.meta.isBack=!1:"comment"===e.name&&(t.meta.isBack=!0),s()},activated:function(){var t=this;this.$route.meta.isBack&&!this.isFirstEnter||this.getNews().then(function(){t.getStoryExtra()})},methods:{image403:s("rAep").a,getNews:function(){var t=this;return r.a.get("/api/4/news/"+this.$route.params.id).then(function(e){200===e.status&&(t.story=e.data)})},getStoryExtra:function(){var t=this;return r.a.get("/api/4/story-extra/"+this.story.id).then(function(e){200===e.status&&(t.storyExtra=e.data)})},toggleShareModal:function(){this.shareModalIsShow=!this.shareModalIsShow},notComplete:function(){this.$toast({message:"假的！点了没用那种，气不气(～￣▽￣)～",duration:200})},toComment:function(){this.$router.push({name:"comment",params:{id:this.story.id}})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news-detail"},[s("link",{attrs:{rel:"stylesheet",href:t.story.css}}),t._v(" "),t.story.id?s("detail-header",{staticClass:"detail-header",attrs:{"story-extra":t.storyExtra},on:{"show-share":t.toggleShareModal,collect:t.notComplete,"to-comment":t.toComment,"thumb-up":t.notComplete}}):t._e(),t._v(" "),s("div",{staticClass:"container"},[t.story.image?s("div",{staticClass:"top"},[s("img",{staticClass:"img",attrs:{src:t.image403(t.story.image),alt:""}}),t._v(" "),s("div",{staticClass:"mask"}),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.story.title))]),t._v(" "),s("span",{staticClass:"image-source"},[t._v(t._s(t.story.image_source))])]):t._e(),t._v(" "),s("div",{staticClass:"my-body",domProps:{innerHTML:t._s(t.image403(t.story.body))}})]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.shareModalIsShow,expression:"shareModalIsShow"}],staticClass:"share-mask",on:{click:t.toggleShareModal}},[s("share-modal",{directives:[{name:"show",rawName:"v-show",value:t.shareModalIsShow,expression:"shareModalIsShow"}],staticClass:"share-modal"})],1)])],1)},staticRenderFns:[]};var n=s("VU/8")(o,i,!1,function(t){s("koUW")},"data-v-4723ecf8",null);e.default=n.exports},koUW:function(t,e){},rAep:function(t,e,s){"use strict";e.a=function(t){if(void 0!==t)return t.replace(/http\w{0,1}:\/\/p/g,"https://images.weserv.nl/?url=p")}}});
//# sourceMappingURL=2.c4aa8bd8c2f5209751c2.js.map